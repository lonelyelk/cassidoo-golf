f=->l{s,=l;?[+l.inject([]){_1+[*[[],[_2-1],[]][s-_2]||?.*3,s=_2]}*?,+?]}
f=->l{s,*r=l;?[+r.inject([s]){_1+[*[[_2-1],[]][s-_2]||?.*3,s=_2]}*?,+?]}

p f[[1,2,3,4,20,21,22,23]] # > "[1,2,3,4,...,20,21,22,23]"
p f[[1,2,3,5,6]] # > "[1,2,3,4,5,6]"
p f[[1,3,20,27]] # > "[1,2,3,...,20,...,27]"