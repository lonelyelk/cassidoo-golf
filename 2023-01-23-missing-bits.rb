f=->l{s,=l;?[+l.map{[*[[],[_1-1],[]][s-_1]||?.*3,s=_1]*?,}*?,+?]}
f=->l{s,=l;?[+l.map{[*[[],[],[_1-1]][_1-s]||?.*3,s=_1]*?,}*?,+?]}

p f[[1,2,3,4,20,21,22,23]] # > "[1,2,3,4,...,20,21,22,23]"
p f[[1,2,3,5,6]] # > "[1,2,3,4,5,6]"
p f[[1,3,20,27]] # > "[1,2,3,...,20,...,27]"